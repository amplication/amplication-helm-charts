<p align="center">
  <a href="https://amplication.com" target="_blank">
    <img alt="amplication-logo" height="70" alt="Amplication Logo" src="https://amplication.com/images/amplication-logo-purple.svg"/>
  </a>
</p>

---

## Parameters

### plugin-api parameters

These parameters only apply to the plugin-api component.

| Name                                            | Description                                                                                                                        | Value                                                                                                                                 |
| ----------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------- |
| `replicaCount`                                  | Determines the amount of replicas to deploy (only consumed when autoscaling.enabled is set to false).                              | `1`                                                                                                                                   |
| `image.repository`                              | Determine from which container repository to pull the image                                                                        | `439403303254.dkr.ecr.us-east-1.amazonaws.com/amplication-plugin-api`                                                                 |
| `image.pullPolicy`                              | Determine when to pull an image                                                                                                    | `IfNotPresent`                                                                                                                        |
| `image.tag`                                     | Determine which version of the image to pull from the container repository                                                         | `""`                                                                                                                                  |
| `imagePullSecrets`                              | Reference to Kubernetes secrets housing dockercfg to fetch images from private registries                                          | `[]`                                                                                                                                  |
| `variables.configmap`                           | A mapping of key:value to be add to the configmap object (to be used as environment variables on the deployment)                   | `{}`                                                                                                                                  |
| `variables.secret`                              | A mapping of key:value to be add to the secret object (to be used as environment variables on the deployment)                      | `{}`                                                                                                                                  |
| `variables.externalSecret`                      | A mapping of key:values to be added to the external secrets object (turned into a regular secret by the external secrets operator) | `{}`                                                                                                                                  |
| `variables.secretStoreConfiguration`            | When using external secrets this part of the configuration is used to point to the secret store or cluster secret store            | `{}`                                                                                                                                  |
| `cronJob.enabled`                               | Whetther to enable the cronjob that updates the plugin-api with available plugins                                                  | `true`                                                                                                                                |
| `cronJob.schedule`                              | The unix style cronjob timer                                                                                                       | `*/10 * * * *`                                                                                                                        |
| `cronJob.history.successful`                    | Determine how many successful jobs to keep                                                                                         | `2`                                                                                                                                   |
| `cronJob.history.failed`                        | Determine how many failed jobs to keep                                                                                             | `2`                                                                                                                                   |
| `cronJob.annotations`                           | Annotations to be added to the cronjob                                                                                             | `{}`                                                                                                                                  |
| `cronJob.query`                                 | The graphql query to inject to the cronjob                                                                                         | `{"query":"mutation ProcessPluginCatalog {processPluginCatalog {  name  npm  versions {    version    updatedAt    deprecated  }}}"}` |
| `healthCheck.enabled`                           | Whether to enable the healthcheck on the deployment                                                                                | `false`                                                                                                                               |
| `healthCheck.readinessProbe`                    | A mapping of enabled & path to optionally execute readiness probes                                                                 | `{}`                                                                                                                                  |
| `healthCheck.livenessProbe`                     | A mapping of enabled & path to optionally execute liveness probes                                                                  | `{}`                                                                                                                                  |
| `nameOverride`                                  | String to fully override chart name (will maintain the release name)                                                               | `""`                                                                                                                                  |
| `fullnameOverride`                              | String to fully override chart name                                                                                                | `""`                                                                                                                                  |
| `serviceAccount.create`                         | Specifies whether a service account should be created                                                                              | `true`                                                                                                                                |
| `serviceAccount.annotations`                    | Annotations to add to the service account                                                                                          | `{}`                                                                                                                                  |
| `serviceAccount.name`                           | The name of the service account to use. If not set and create is true, a name is generated using the fullname template             | `""`                                                                                                                                  |
| `podAnnotations`                                | Map of annotations to add to the pods                                                                                              | `{}`                                                                                                                                  |
| `podSecurityContext`                            | Security context to add to the pod (overwritten by container-level settings)                                                       | `{}`                                                                                                                                  |
| `securityContext`                               | Security context to add to the container                                                                                           | `{}`                                                                                                                                  |
| `containerPort`                                 | The port number which is exposed on the container image                                                                            | `3005`                                                                                                                                |
| `service.type`                                  | The kubernetes service type to be used                                                                                             | `ClusterIP`                                                                                                                           |
| `service.port.http`                             | The port exposed on the service to be used for http traffic                                                                        | `80`                                                                                                                                  |
| `service.port.https`                            | The port exposed on the service to be used for https traffic                                                                       | `443`                                                                                                                                 |
| `ingress.enabled`                               | Enable Kubernetes ingress for ingress traffic                                                                                      | `false`                                                                                                                               |
| `ingress.className`                             | Name of the ingress class to use                                                                                                   | `""`                                                                                                                                  |
| `ingress.annotations`                           | Annotations to add on the ingress object                                                                                           | `{}`                                                                                                                                  |
| `ingress.hosts`                                 | Hosts configuration for ingress object                                                                                             | `[]`                                                                                                                                  |
| `ingress.tls`                                   | TLS configuration for ingress object                                                                                               | `[]`                                                                                                                                  |
| `resources.requests`                            | The requested CPU & memory for the container                                                                                       | `{}`                                                                                                                                  |
| `resources.limits`                              | The CPU & memory limit for the container                                                                                           | `{}`                                                                                                                                  |
| `autoscaling.enabled`                           | Enable auto scaling (fallback to replicaCount if equals false)                                                                     | `false`                                                                                                                               |
| `autoscaling.minReplicas`                       | Minimal amount of replicas to scale down to                                                                                        | `1`                                                                                                                                   |
| `autoscaling.maxReplicas`                       | Maximum amount of replicas to scale up to                                                                                          | `10`                                                                                                                                  |
| `autoscaling.targetCPUUtilizationPercentage`    | Increase and decrease the number of replicas to maintain an average % of CPU utilization                                           | `80`                                                                                                                                  |
| `autoscaling.targetMemoryUtilizationPercentage` | Increase and decrease the number of replicas to maintain an average % of memory utilization                                        | `80`                                                                                                                                  |
| `nodeSelector`                                  | Node labels for pods assignment                                                                                                    | `{}`                                                                                                                                  |
| `tolerations`                                   | Tolerations for pods assignment                                                                                                    | `[]`                                                                                                                                  |
| `affinity`                                      | Affinity for pods assignment                                                                                                       | `{}`                                                                                                                                  |
