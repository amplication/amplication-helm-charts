<p align="center">
  <a href="https://amplication.com" target="_blank">
    <img alt="amplication-logo" height="70" alt="Amplication Logo" src="https://amplication.com/images/amplication-logo-purple.svg"/>
  </a>
</p>

---

## Parameters

### data-service-generator parameters

These parameters only apply to the data-service-generator component.

| Name                                                         | Description                                                                                                                        | Value                                                                 |
| ------------------------------------------------------------ | ---------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------- |
| `nameOverride`                                               | String to fully override chart name (will maintain the release name)                                                               | `""`                                                                  |
| `fullnameOverride`                                           | String to fully override chart name                                                                                                | `""`                                                                  |
| `imagePullSecrets`                                           | Reference to Kubernetes secrets housing dockercfg to fetch images from private registries                                          | `[]`                                                                  |
| `variables.configmap`                                        | A mapping of key:value to be add to the configmap object (to be used as environment variables on the deployment)                   | `{}`                                                                  |
| `variables.secret`                                           | A mapping of key:value to be add to the secret object (to be used as environment variables on the deployment)                      | `{}`                                                                  |
| `variables.externalSecret`                                   | A mapping of key:values to be added to the external secrets object (turned into a regular secret by the external secrets operator) | `{}`                                                                  |
| `variables.secretStoreConfiguration`                         | When using external secrets this part of the configuration is used to point to the secret store or cluster secret store            | `{}`                                                                  |
| `storage.dataServiceGenerator.enabled`                       | Whether to enable the dsg pv & pvc setup                                                                                           | `true`                                                                |
| `storage.dataServiceGenerator.suffix`                        | Whether to enable the dsg pv & pvc setup                                                                                           | `dsg`                                                                 |
| `storage.dataServiceGenerator.storageClassName`              | The storage class to assign to the pv & pvc                                                                                        | `efs-dsg-sc`                                                          |
| `storage.dataServiceGenerator.persistentVolume.volumeHandle` | A combination of the provioning id & access point id of the efs                                                                    | `<volume_handle>`                                                     |
| `storage.main.enabled`                                       | Whether to enable the main pv & pvc setup                                                                                          | `true`                                                                |
| `storage.main.suffix`                                        | Whether to enable the dsg pv & pvc setup                                                                                           | `main`                                                                |
| `storage.main.storageClassName`                              | The storage class to assign to the pv & pvc                                                                                        | `efs-main-sc`                                                         |
| `storage.main.persistentVolume.volumeHandle`                 | A combination of the provioning id & access point id of the efs                                                                    | `<volume_handle>`                                                     |
| `events.eventSource.enabled`                                 | Whether to enable the argo events event-source                                                                                     | `true`                                                                |
| `events.eventSource.name`                                    | Name to give to the event-source object                                                                                            | `webhook`                                                             |
| `events.eventSource.service.port`                            | The target port the assign to the eventsource service configuration                                                                | `12000`                                                               |
| `events.eventSource.webhook.endpoint`                        | The path to use on the endpoint                                                                                                    | `/example`                                                            |
| `events.eventSource.webhook.method`                          | The method to use in conjunction with the eventsource                                                                              | `POST`                                                                |
| `events.eventBus.enabled`                                    | Whether to enable the argo events event-bus                                                                                        | `true`                                                                |
| `events.eventBus.name`                                       | Name to give to the event-bus object                                                                                               | `default`                                                             |
| `events.eventBus.native.replicas`                            | The amount of replicas to spin-up for the event-bus setup                                                                          | `3`                                                                   |
| `events.eventBus.native.auth`                                | The authentication method to be used within the event-bus setup                                                                    | `token`                                                               |
| `events.sensor.image.repository`                             | Determine from which container repository to pull the image                                                                        | `439403303254.dkr.ecr.us-east-1.amazonaws.com/data-service-generator` |
| `events.sensor.image.pullPolicy`                             | Determine when to pull an image                                                                                                    | `Always`                                                              |
| `events.sensor.image.tag`                                    | Determine which version of the image to pull from the container repository                                                         | `""`                                                                  |
| `events.sensor.enabled`                                      | Whether to enable the argo events sensor used to for spinning up dsg jobs                                                          | `true`                                                                |
| `events.sensor.name`                                         | Name to give to the sensor object                                                                                                  | `dsg-job-webhook`                                                     |
| `events.sensor.templateName`                                 | The name to be assigned to the template within the sensor                                                                          | `dsg-job-webhook-trigger`                                             |
| `events.sensor.generateName`                                 | The prefix to be used for the name when generating a dsg jobs                                                                      | `dsg-job-`                                                            |
| `events.sensor.ttlSecondsAfterFinished`                      | The ttl of the job for the history after it has finished                                                                           | `600`                                                                 |
| `events.sensor.restartPolicy`                                | The restart policy for the dsg job                                                                                                 | `Never`                                                               |
| `events.sensor.volume.mountPath`                             | The default mountpath on the efs                                                                                                   | `/efs`                                                                |
| `events.sensor.variables.buildManagerUrl`                    | The url of the build-manager which is communicates with                                                                            | `http://build-manager`                                                |
| `events.sensor.variables.remoteEnv`                          | Variable to determine whether to use a remote env                                                                                  | `true`                                                                |
| `events.sensor.variables.buildSpecPath`                      | The path for the buildspec on the efs volume mount                                                                                 | `/efs/input.json`                                                     |
| `events.sensor.variables.buildOutputPath`                    | The output path to be used on the efs volume mount                                                                                 | `/efs/code`                                                           |
| `events.sensor.resources.requests.cpu`                       | The requested CPU for the dsg container                                                                                            | `10m`                                                                 |
| `events.sensor.resources.requests.memory`                    | The requested memory for the dsg container                                                                                         | `64Mi`                                                                |
| `events.sensor.resources.limits.cpu`                         | The limit of CPU for the dsg container                                                                                             | `1200m`                                                               |
| `events.sensor.resources.limits.memory`                      | The limit of memory for the dsg container                                                                                          | `3000Mi`                                                              |
| `rbac.enabled`                                               | Boolean for adding the role & role-binding setup required for creating ecr dockercfg secrets                                       | `true`                                                                |
| `rbac.serviceAccountName`                                    | String the service account name to attach to the role & role-binding setup                                                         | `data-service-generator`                                              |
| `serviceAccount.create`                                      | Specifies whether a service account should be created                                                                              | `true`                                                                |
| `serviceAccount.annotations`                                 | Annotations to add to the service account                                                                                          | `{}`                                                                  |
| `serviceAccount.name`                                        | The name of the service account to use. If not set and create is true, a name is generated using the fullname template             | `""`                                                                  |
| `nodeSelector.role`                                          | Node labels for pods assignment                                                                                                    | `dsg`                                                                 |
| `tolerations[0].key`                                         | Toleration key for pods assignment                                                                                                 | `dedicated`                                                           |
| `tolerations[0].value`                                       | Toleration value for pods assignment                                                                                               | `dsg`                                                                 |
